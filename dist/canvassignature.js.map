{"version":3,"sources":["node_modules/array-each/index.js","node_modules/array-slice/index.js","node_modules/for-own/node_modules/for-in/index.js","node_modules/for-own/index.js","node_modules/isobject/index.js","node_modules/object.defaults/mutable.js","node_modules/object.defaults/immutable.js","node_modules/object.defaults/index.js","src/cavnassignature.js"],"names":["module","each","arr","cb","thisArg","len","length","idx","ele","call","slice","start","end","range","push","pos","Math","max","min","forIn","obj","fn","key","hasOwn","Object","prototype","hasOwnProperty","forOwn","val","isObject","Array","isArray","defaults","target","objects","arguments","immutableDefaults","args","apply","concat","require","assignToElement","element","options","nodeName","toLowerCase","canvas","document","createElement","canvasContext","getContext","drawing","lastPosition","initDom","appendChild","className","width","height","style","addEventListener","startDraw","passive","drawMove","endDraw","event","preventDefault","getDrawPositionByEvent","position","lineWidth","strokeWidth","strokeStyle","strokeColor","moveTo","x","y","lineTo","stroke","targetTouches","clientX","offsetLeft","clientY","offsetTop","pageX","pageY","destroyCanvas","querySelector","remove","clearCanvas","trimCanvas","c","ctx","copy","pixels","getImageData","l","data","i","bound","top","left","right","bottom","trimHeight","trimWidth","trimmed","putImageData","getSignature","trim","toDataURL","CanvasSignature","forEach","item","clear","getSignatures","signatures","elements","elemen","destroy","window"],"mappings":"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","file":"canvassignature.js","sourcesContent":["/*!\n * array-each <https://github.com/jonschlinkert/array-each>\n *\n * Copyright (c) 2015, 2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\n/**\n * Loop over each item in an array and call the given function on every element.\n *\n * ```js\n * each(['a', 'b', 'c'], function(ele) {\n *   return ele + ele;\n * });\n * //=> ['aa', 'bb', 'cc']\n *\n * each(['a', 'b', 'c'], function(ele, i) {\n *   return i + ele;\n * });\n * //=> ['0a', '1b', '2c']\n * ```\n *\n * @name each\n * @alias forEach\n * @param {Array} `array`\n * @param {Function} `fn`\n * @param {Object} `thisArg` (optional) pass a `thisArg` to be used as the context in which to call the function.\n * @return {undefined}\n * @api public\n */\n\nmodule.exports = function each(arr, cb, thisArg) {\n  if (arr == null) return;\n\n  var len = arr.length;\n  var idx = -1;\n\n  while (++idx < len) {\n    var ele = arr[idx];\n    if (cb.call(thisArg, ele, idx, arr) === false) {\n      break;\n    }\n  }\n};\n","/*!\n * array-slice <https://github.com/jonschlinkert/array-slice>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function slice(arr, start, end) {\n  var len = arr.length;\n  var range = [];\n\n  start = idx(len, start);\n  end = idx(len, end, len);\n\n  while (start < end) {\n    range.push(arr[start++]);\n  }\n  return range;\n};\n\nfunction idx(len, pos, end) {\n  if (pos == null) {\n    pos = end || 0;\n  } else if (pos < 0) {\n    pos = Math.max(len + pos, 0);\n  } else {\n    pos = Math.min(pos, len);\n  }\n\n  return pos;\n}\n","/*!\n * for-in <https://github.com/jonschlinkert/for-in>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function forIn(obj, fn, thisArg) {\n  for (var key in obj) {\n    if (fn.call(thisArg, obj[key], key, obj) === false) {\n      break;\n    }\n  }\n};\n","/*!\n * for-own <https://github.com/jonschlinkert/for-own>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar forIn = require('for-in');\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nmodule.exports = function forOwn(obj, fn, thisArg) {\n  forIn(obj, function(val, key) {\n    if (hasOwn.call(obj, key)) {\n      return fn.call(thisArg, obj[key], key, obj);\n    }\n  });\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","'use strict';\n\nvar each = require('array-each');\nvar slice = require('array-slice');\nvar forOwn = require('for-own');\nvar isObject = require('isobject');\n\n/**\n * Extends the `target` object with properties of one or\n * more additional `objects`\n *\n * @name .defaults\n * @param  {Object} `target` The target object. Pass an empty object to shallow clone.\n * @param  {Object} `objects`\n * @return {Object}\n * @api public\n */\n\nmodule.exports = function defaults(target, objects) {\n  if (target == null) {\n    return {};\n  }\n\n  each(slice(arguments, 1), function(obj) {\n    if (isObject(obj)) {\n      forOwn(obj, function(val, key) {\n        if (target[key] == null) {\n          target[key] = val;\n        }\n      });\n    }\n  });\n\n  return target;\n};\n","'use strict';\n\nvar slice = require('array-slice');\n\nvar defaults = require('./mutable');\n\n/**\n * Extends an empty object with properties of one or\n * more additional `objects`\n *\n * @name .defaults.immutable\n * @param  {Object} `objects`\n * @return {Object}\n * @api public\n */\n\nmodule.exports = function immutableDefaults() {\n  var args = slice(arguments);\n  return defaults.apply(null, [{}].concat(args));\n};\n","/*!\n * object.defaults <https://github.com/jonschlinkert/object.defaults>\n *\n * Copyright (c) 2014-2015, 2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = require('./mutable');\nmodule.exports.immutable = require('./immutable');\n","\nimport defaults from \"object.defaults\";\n\n/**\n * @param {*} element \n * @param {*} options \n * @returns \n */\nconst assignToElement = (element, options) => {\n    if (\n        null === element ||\n        \"div\" !== element.nodeName.toLowerCase()\n    ) {\n        return;\n    }\n\n    let canvas = document.createElement(\"canvas\"),\n        canvasContext = canvas.getContext(\"2d\"),\n        drawing = false,\n        lastPosition = {};\n\n    const initDom = () => {\n        element.appendChild(canvas);\n        canvas.className = \"canvasSignature\";\n        canvas.width = options.width;\n        canvas.height = options.height;\n\n        canvas.style = \"overscroll-behavior-y: contain;\";\n\n        // attach canvas events for both desktop and mobile devices\n        canvas.addEventListener(\"touchstart\", startDraw, { passive: false });\n        canvas.addEventListener(\"touchmove\", drawMove, { passive: false });\n        document.addEventListener(\"touchend\", endDraw);\n        canvas.addEventListener(\"mousedown\", startDraw);\n        canvas.addEventListener(\"mousemove\", drawMove);\n        document.addEventListener(\"mouseup\", endDraw);\n    }\n\n    /**\n     * @param {*} event \n     */\n    const startDraw = (event) => {\n        event.preventDefault();\n        drawing = true;\n        lastPosition = getDrawPositionByEvent(event);\n    }\n\n    /**\n     * @param {*} event \n     */\n    const endDraw = (event) => {\n        event.preventDefault();\n        drawing = false;\n    }\n\n    /**\n     * @param {*} event \n     * @returns \n     */\n    const drawMove = (event) => {\n        if (!drawing) {\n            return;\n        }\n\n        let position = getDrawPositionByEvent(event);\n\n        canvasContext.lineWidth = options.strokeWidth;\n        canvasContext.strokeStyle = options.strokeColor;\n        canvasContext.moveTo(lastPosition.x, lastPosition.y);\n        canvasContext.lineTo(position.x, position.y);\n        canvasContext.stroke();\n\n        lastPosition = position;\n    }\n\n    /**\n     * @param {*} event \n     */\n    const getDrawPositionByEvent = (event) => {\n        let position = {};\n\n        if (\n            event.targetTouches &&\n            event.targetTouches.length\n        ) {\n            position.x = event.targetTouches[0].clientX - canvas.offsetLeft;\n            position.y = event.targetTouches[0].clientY - canvas.offsetTop;\n        }\n\n        if (\n            event.clientX &&\n            event.clientY\n        ) {\n            position.x = event.pageX - canvas.offsetLeft;\n            position.y = event.pageY - canvas.offsetTop; \n        }\n\n        return position;\n    }\n\n    initDom();\n}\n\n/**\n * @param {*} element \n */\nconst destroyCanvas = (element) => {\n    let canvas = element.querySelector(\"canvas\");\n\n    if (null !== canvas) {\n        canvas.remove();\n    }\n}\n\n/**\n * @param {*} element \n */\nconst clearCanvas = (element) => {\n    let canvas = element.querySelector(\"canvas\");\n\n    if (null !== canvas) {\n        canvas.width = canvas.width;\n    }\n}\n\n/**\n * @param {*} c \n * @returns \n */\nconst trimCanvas = (c) => {\n    var ctx = c.getContext('2d'),\n        copy = document.createElement('canvas').getContext('2d'),\n        pixels = ctx.getImageData(0, 0, c.width, c.height),\n        l = pixels.data.length,\n        i,\n        bound = {\n            top: null,\n            left: null,\n            right: null,\n            bottom: null\n        },\n        x, y;\n    \n    for (i = 0; i < l; i += 4) {\n        if (pixels.data[i + 3] !== 0) {\n            x = (i / 4) % c.width;\n            y = ~~((i / 4) / c.width);\n\n            if (bound.top === null) {\n                bound.top = y;\n            }\n\n            if (bound.left === null) {\n                bound.left = x;\n            } else if (x < bound.left) {\n                bound.left = x;\n            }\n\n            if (bound.right === null) {\n                bound.right = x;\n            } else if (bound.right < x) {\n                bound.right = x;\n            }\n\n            if (bound.bottom === null) {\n                bound.bottom = y;\n            } else if (bound.bottom < y) {\n                bound.bottom = y;\n            }\n        }\n    }\n\n    if (\n        bound.left === null ||\n        bound.right === null ||\n        bound.top === null ||\n        bound.bottom === null\n    ) {\n           return c; \n    }\n\n    var trimHeight = bound.bottom - bound.top,\n        trimWidth = bound.right - bound.left,\n        trimmed = ctx.getImageData(bound.left, bound.top, trimWidth, trimHeight);\n\n    copy.canvas.width = trimWidth;\n    copy.canvas.height = trimHeight;\n    copy.putImageData(trimmed, 0, 0);\n\n    return copy.canvas;\n}\n\n/**\n * @param {*} element \n * @param {*} options \n * @returns \n */\nconst getSignature = (element, options) => {\n    let canvas = element.querySelector(\"canvas\");\n    \n    if (null !== canvas) {\n        if (options.trim) {\n            return trimCanvas(canvas).toDataURL();\n        }\n        \n        return canvas.toDataURL();\n    }\n\n    return null;\n}\n\n/**\n * @param {*} element \n * @param {*} options \n */\nlet CanvasSignature = (element, options) => {\n    // set default options\n    options = defaults(options, {\n        width: 200,\n        height: 120,\n        trim: true,\n        strokeWidth: 2,\n        strokeColor: \"black\"\n    });\n\n    if (element) {\n        Array.prototype.forEach.call(\n            element.length ? element : [element],\n            (item) => {\n                assignToElement(item, options);\n            }\n        )\n    }\n\n    return {\n        /**\n         * Method to clear signatures\n         */\n        clear: () => {\n            Array.prototype.forEach.call(\n                element.length ? element : [element],\n                (item) => {\n                    clearCanvas(item);\n                }\n            )\n        },\n        /**\n         * Method to return array of signatures\n         * \n         * @returns {string[]}\n         */\n        getSignatures: () => {\n            let signatures = [];\n\n            Array.prototype.forEach.call(\n                element.length ? element : [element],\n                (item) => {\n                    signatures.push(getSignature(item, options));\n                }\n            )\n\n            return signatures;\n        },\n        /**\n         * Method to return a single signature\n         * \n         * @returns {string}\n         */\n        getSignature: () => {\n            let elements = element.length ? element : [elemen];\n\n            return getSignature(elements[0], options);\n        },\n        /**\n         * Method to destroy CanvasSignature element\n         */\n        destroy: () => {\n            Array.prototype.forEach.call(\n                element.length ? element : [element],\n                (item) => {\n                    destroyCanvas(item);\n                }\n            )\n        }\n    };\n}\n\nwindow.CanvasSignature = CanvasSignature;\n\nexport default CanvasSignature;"]}