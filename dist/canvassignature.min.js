!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("cavnassignature",t):(e="undefined"!=typeof globalThis?globalThis:e||self).cavnassignature=t()}(this,function(){"use strict";function t(e,t,n){var a=e.length,r=[];for(t=o(a,t),n=o(a,n,a);t<n;)r.push(e[t++]);return r}function o(e,t,n){return t=null==t?n||0:t<0?Math.max(e+t,0):Math.min(t,e)}function a(n,a,r){!function(e,t,n){for(var a in e)if(!1===t.call(n,e[a],a,e))break}(n,function(e,t){if(i.call(n,t))return a.call(r,n[t],t,n)})}function n(n,e){return null==n?{}:(function(e,t,n){if(null!=e)for(var a=e.length,r=-1;++r<a;){var o=e[r];if(!1===t.call(n,o,r,e))break}}(t(arguments,1),function(e){var t;null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t)&&a(e,function(e,t){null==n[t]&&(n[t]=e)})}),n)}var i=Object.prototype.hasOwnProperty,r=n;r.immutable=function(){var e=t(arguments);return n.apply(null,[{}].concat(e))};var e=(e,t)=>(t=r(t,{width:600,height:600}),e&&Array.prototype.forEach.call(e.length?e:[e],e=>{((r,o)=>{if(null!==r&&"div"===r.nodeName.toLowerCase()){let e=document.createElement("canvas"),t=e.getContext("2d"),n=!1,a={};const i=e=>{e.preventDefault(),n=!0,a=u(e)},l=e=>{e.preventDefault(),n=!1,a=u(e)},c=e=>{n&&(e.preventDefault(),e=u(e),t.moveTo(a.x,a.y),t.lineTo(e.x,e.y),t.stroke(),a=e)},u=e=>{let t={};return e.targetTouches&&e.targetTouches.length&&(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY),e.clientX&&e.clientY&&(t.x=e.clientX,t.y=e.clientY),t};r.appendChild(e),e.className="canvasSignature",e.width=o.width,e.height=o.height,e.style="overscroll-behavior-y: contain;",e.addEventListener("touchstart",i,{passive:!1}),e.addEventListener("touchmove",c,{passive:!1}),e.addEventListener("touchend",l),e.addEventListener("mousedown",i),e.addEventListener("mousemove",c),e.addEventListener("mouseup",l)}})(e,t)}),{clear:()=>{Array.prototype.forEach.call(e.length?e:[e],e=>{(e=>{let t=e.querySelector("canvas"),n=t.getContext("2d");n.clearRect(0,0,t.width,t.height)})(e)})}});return window.CanvasSignature=e});